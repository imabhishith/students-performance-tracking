<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REPEATER'S BATCH 2025-26</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
</head>
<body>
    <div id="header">
        <img id="logo" src="logo.png" alt="INSTITUTE LOGO">
        <h1>REPEATER'S BATCH 2025-26</h1>
        <button id="themeToggle">Switch to Light Theme</button>
    </div>
    <div id="loader" style="display: none; text-align: center; margin: 20px;">
        <div class="spinner"></div>
        <p>Loading data...</p>
    </div>
    <input type="file" id="dataFile" accept=".csv">
    <div id="search-container">
        <input type="text" id="search" placeholder="SEARCH BY ROLL NO OR FIRST NAME">
        <button id="searchButton">SEARCH</button>
    </div>
    <div id="tabs">
        <button onclick="showTab('stats')">OVERALL STATS</button>
        <button onclick="showTab('overall')">OVERALL RANKLIST</button>
        <button onclick="showTab('last3')">LAST 3 EXAMS RANKLIST</button>
        <button onclick="showTab('subjects')">SUBJECT-WISE RANKLISTS</button>
    </div>
    <div id="stats" class="tab" style="display: none;">
        <div class="stats-box">
            <h2>OVERALL STATISTICS</h2>
            <p id="totalExams">TOTAL EXAMS CONDUCTED: <span>0</span></p>
            <p id="totalStudents">TOTAL STUDENTS: <span>0</span></p>
            <button id="subjectDifficultyBtn">SUBJECT DIFFICULTY ANALYSIS</button>
            <button id="examDetailsBtn">EXAM PARTICIPATION DETAILS</button>
            <button id="studentDetailsBtn">STUDENT DETAILS</button>
            <div id="subjectDifficultyDetails" style="display: none;">
                <h3>SUBJECT DIFFICULTY ANALYSIS</h3>
                <p id="chemAvg">CHEMISTRY AVERAGE: <span>0</span></p>
                <p id="phyAvg">PHYSICS AVERAGE: <span>0</span></p>
                <p id="bioAvg">BIOLOGY AVERAGE: <span>0</span></p>
                <p id="mathAvg">MATHS AVERAGE: <span>0</span></p>
                <p id="mostDifficult">MOST DIFFICULT SUBJECT: <span>N/A</span></p>
            </div>
            <div id="examDetails" style="display: none;">
                <table id="examStatsTable">
                    <thead>
                        <tr>
                            <th>EXAM</th>
                            <th>STUDENTS ATTEMPTED</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
            <div id="studentDetails" style="display: none;">
                <table id="studentDetailsTable">
                    <thead>
                        <tr>
                            <th>SERIAL NO</th>
                            <th>ROLL NO</th>
                            <th>NAME</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </div>
    <div id="overall" class="tab">
        <table id="rankTable">
            <thead>
                <tr>
                    <th>RANK</th>
                    <th>ROLL NO</th>
                    <th>NAME</th>
                    <th>EXAMS ATTEMPTED</th>
                    <th>TOTAL SCORE</th>
                    <th>% SCORE</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
    <div id="last3" class="tab" style="display: none;">
        <table id="last3Table">
            <thead>
                <tr>
                    <th>RANK</th>
                    <th>ROLL NO</th>
                    <th>NAME</th>
                    <th>EXAMS ATTEMPTED</th>
                    <th>TOTAL SCORE</th>
                    <th>% SCORE</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
    <div id="subjects" class="tab" style="display: none;">
        <div class="subject-box">
            <h2 class="subject-header" data-subject="chem">CHEMISTRY</h2>
            <div class="subject-content" id="chemContent">
                <table id="chemTable">
                    <thead>
                        <tr>
                            <th>RANK</th>
                            <th>ROLL NO</th>
                            <th>NAME</th>
                            <th>EXAMS ATTEMPTED</th>
                            <th>TOTAL SCORE</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
        <div class="subject-box">
            <h2 class="subject-header" data-subject="phy">PHYSICS</h2>
            <div class="subject-content" id="phyContent">
                <table id="phyTable">
                    <thead>
                        <tr>
                            <th>RANK</th>
                            <th>ROLL NO</th>
                            <th>NAME</th>
                            <th>EXAMS ATTEMPTED</th>
                            <th>TOTAL SCORE</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
        <div class="subject-box">
            <h2 class="subject-header" data-subject="bio">BIOLOGY</h2>
            <div class="subject-content" id="bioContent">
                <table id="bioTable">
                    <thead>
                        <tr>
                            <th>RANK</th>
                            <th>ROLL NO</th>
                            <th>NAME</th>
                            <th>EXAMS ATTEMPTED</th>
                            <th>TOTAL SCORE</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
        <div class="subject-box">
            <h2 class="subject-header" data-subject="math">MATHS</h2>
            <div class="subject-content" id="mathContent">
                <table id="mathTable">
                    <thead>
                        <tr>
                            <th>RANK</th>
                            <th>ROLL NO</th>
                            <th>NAME</th>
                            <th>EXAMS ATTEMPTED</th>
                            <th>TOTAL SCORE</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </div>
    <div id="searchResult" class="tab" style="display: none;">
        <div id="searchDetails"></div>
    </div>
    <script src="script.js"></script>
</body>
</html>
